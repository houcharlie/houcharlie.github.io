<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Charlie Hou</title>
  <meta name="description" content="Charlie Hou's research, papers, and talks" />
  <meta name="color-scheme" content="light" />
  <style>
    :root{
      --bg:#fff; --fg:#111; --muted:#555; --link:#0645ad;
      --maxw:680px;          /* centered text column width */
      --photo:220px;         /* square photo size */
      --gap:40px;            /* space between photo and text column */
      --overhang:40px;       /* push photo further left than the column */
      --pagepad:1rem;
    }

    html,body{height:100%}
    body{
      margin:0;
      font:18px/1.6 Georgia,"Times New Roman",Times,serif;
      color:var(--fg); background:var(--bg);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:var(--link); text-decoration:none}
    a:hover{text-decoration:underline}

    /* HEADER (name left, links right), no divider */
    header{padding:1rem var(--pagepad)}
    .nav{
      max-width:1100px; margin:0 auto;
      display:flex; align-items:baseline; justify-content:space-between; gap:1rem;
      font-size:16px; line-height:1.4;
    }
    .brand{font-weight:700}

    /* HERO: text column centered; photo sits to the LEFT of that column */
    .hero{
      position:relative;
      width:var(--maxw); margin:1.25rem auto 2rem;
      min-height:var(--photo);   /* so the photo doesn't collapse the section */
      padding:0 var(--pagepad);
      box-sizing:content-box;
    }
    .hero .photo{
      position:absolute; top:0;
      left:calc(-1 * (var(--photo) + var(--gap) + var(--overhang)));
      width:var(--photo); height:var(--photo);
      object-fit:cover; border-radius:0; border:1px solid #eaeaea; display:block;
    }
    .intro .title{margin:0 0 .5rem; font-size:18px; font-weight:700; line-height:1.4}
    .muted{color:var(--muted)}

    /* CONTENT: all text (Papers, Talks, etc.) shares this centered column */
    .content{width:var(--maxw); margin:0 auto; padding:0 var(--pagepad)}
    section{margin:2rem 0}
    h2{font-size:20px; margin:0 0 .6rem; font-weight:700}

    /* Lists: date column like “YYYY Mon” */
    .list{list-style:none; padding:0; margin:.25rem 0 0}
    .list li{margin:.35rem 0}
    .list time{display:inline-block; width:9ch; color:var(--muted); margin-right:.25rem; white-space:nowrap}
    .tiny{color:var(--muted)}

    footer{width:var(--maxw); margin:3rem auto 1rem; color:var(--muted); font-size:16px; padding:0 var(--pagepad)}

    /* Mobile: stack photo above text */
    @media (max-width: 900px){
      .hero{width:calc(100% - 2*var(--pagepad)); min-height:auto}
      .hero .photo{position:static; margin:0 0 1rem 0; width:180px; height:180px}
      body{font-size:17px}
      .nav{font-size:15px}
    }
  </style>
</head>
<body>
  <header>
    <div class="nav" aria-label="Primary">
      <div class="brand">Charlie Hou</div>
      <div class="links">
        <a href="#home">Home</a>
        <a href="#papers">Papers</a>
        <a href="#blog">Blog</a>
        <a href="#thoughts">Thoughts</a>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO: centered text column; photo sits further left -->
    <section id="home" class="hero">
      <img class="photo" src="me.jpg" alt="Portrait of Charlie Hou" />
      <div class="intro">
        <p class="title">AI researcher / engineer</p>
        <p class="muted">I am an AI research scientist at Meta. I work on synthetic data, privacy, and retrieval.</p>
        <p>
          <a href="https://x.com/hou_char">Twitter</a> /
          <a href="cv.pdf">CV</a> /
          <a href="https://scholar.google.com/citations?user=92wmC6gAAAAJ&hl=en">Google scholar</a> /
          <a href="mailto:charlie@example.com">Email</a>
        </p>
      </div>
    </section>

    <!-- All sections share the same centered column -->
    <div class="content">
      <section id="papers" aria-labelledby="papers-h">
        <h2 id="papers-h">Papers</h2>
        <div id="papers-loading" class="muted">Loading papers…</div>
        <ul id="papers-list" class="list" hidden></ul>
      </section>

      <section id="talks" aria-labelledby="talks-h">
        <h2 id="talks-h">Talks &amp; Media</h2>
        <div id="talks-loading" class="muted">Loading talks…</div>
        <ul id="talks-list" class="list" hidden></ul>
      </section>

      <section id="blog" aria-labelledby="blog-h">
        <h2 id="blog-h">Blog</h2>
        <p class="muted">Coming soon.</p>
      </section>

      <section id="thoughts" aria-labelledby="thoughts-h">
        <h2 id="thoughts-h">Thoughts</h2>
        <p class="muted">Coming soon.</p>
      </section>
    </div>

    <footer>© <span id="year"></span> Charlie Hou</footer>
  </main>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const esc = s => String(s ?? "").replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));
    const mon = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    const stamp = dstr => { const d=new Date(dstr||'1970-01-01'); return isNaN(d)?'':`${d.getUTCFullYear()} ${mon[d.getUTCMonth()]}` };

    function renderEntry(p){
      const li=document.createElement('li');
      const t=document.createElement('time'); const lbl=stamp(p.date) || (p.year||'');
      t.textContent=lbl; if(p.date) t.setAttribute('datetime', new Date(p.date).toISOString().slice(0,10)); li.appendChild(t);

      const primary=(p.links && (p.links.paper||p.links.project||p.links.blog||p.links.code)) || p.link || '#';
      const a=document.createElement('a'); a.href=primary; a.target='_blank'; a.rel='noreferrer'; a.innerHTML=' '+esc(p.title||'Untitled'); li.appendChild(a);

      const bits=[]; if(p.venue) bits.push(esc(p.venue)); if(p.notes) bits.push(esc(p.notes));
      if(bits.length){ const span=document.createElement('span'); span.className='tiny'; span.textContent=` — ${bits.join(' · ')}`; li.appendChild(span); }

      if(p.links){ const order=['paper','project','blog','code'], labels={paper:'(paper)',project:'(project)',blog:'(blog)',code:'(code)'}; 
        for(const k of order){ if(p.links[k]){ const sep=document.createElement('span'); sep.className='tiny'; sep.textContent=' · ';
          const l=document.createElement('a'); l.href=p.links[k]; l.target='_blank'; l.rel='noreferrer'; l.textContent=labels[k];
          li.appendChild(sep); li.appendChild(l); } } }
      return li;
    }

    (async function loadPapers(){
      const listEl=document.getElementById('papers-list'); const loading=document.getElementById('papers-loading');
      try{
        const res=await fetch('papers.json',{cache:'no-store'}); if(!res.ok) throw new Error('fetch papers.json failed');
        const data=await res.json(); if(!Array.isArray(data)) throw new Error('papers.json must be an array');
        const items=data.slice().sort((a,b)=>Date.parse(b.date||'1970-01-01')-Date.parse(a.date||'1970-01-01'));
        const frag=document.createDocumentFragment(); for(const p of items) frag.appendChild(renderEntry(p));
        listEl.innerHTML=''; listEl.appendChild(frag); listEl.hidden=false; loading?.remove();
      }catch(e){ if(loading) loading.textContent='Could not load papers.json'; console.error(e); }
    })();

    (async function loadTalks(){
      const listEl=document.getElementById('talks-list'); const loading=document.getElementById('talks-loading');
      try{
        const res=await fetch('talks.json',{cache:'no-store'}); if(!res.ok) throw new Error('fetch talks.json failed');
        const data=await res.json(); if(!Array.isArray(data)) throw new Error('talks.json must be an array');
        const items=data.slice().sort((a,b)=>Date.parse(b.date||'1970-01-01')-Date.parse(a.date||'1970-01-01'));
        const frag=document.createDocumentFragment();
        for(const t of items){
          frag.appendChild(renderEntry({
            date:t.date, title:t.title||'Talk',
            links: t.link ? {project:t.link} : undefined,
            notes: t.venue || t.notes
          }));
        }
        listEl.innerHTML=''; listEl.appendChild(frag); listEl.hidden=false; loading?.remove();
      }catch(e){ if(loading) loading.textContent='Could not load talks.json'; console.error(e); }
    })();
  </script>
</body>
</html>
